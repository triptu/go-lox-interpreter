<!DOCTYPE html>
<html>
  <head>
    <title>Golox Playground</title>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <meta name="description" content="A local in browser playground for Lox interpreter written in Golang.">

    <link href="./src/styles.css" rel="stylesheet" />
    <script src="./src/wasm_exec.js"></script>
    <script src="./src/index.ts" type="module"></script>
  </head>

  <body class="p-4 flex flex-col h-dvh w-dvw bg-gray-300">
    <div class="bg-white rounded shadow flex flex-col flex-1">

      <div class="rounded-t p-4 bg-gray-900 text-gray-50 flex items-center justify-between">
        <h1 class="text-2xl font-bold">
          GoLox Playground
        </h1>
        <div class="flex gap-4 items-center">
          <a href="https://github.com/triptu/go-lox-interpreter" target="_blank" rel="noopener noreferrer" class="text-gray-100 hover:text-white flex gap-2 items-center">
            <svg class="sm:hidden" xmlns="http://www.w3.org/2000/svg" width="25px" viewBox="0,0,256,256">
              <g fill="#ffffff" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><g transform="scale(8.53333,8.53333)"><path d="M15,3c-6.627,0 -12,5.373 -12,12c0,5.623 3.872,10.328 9.092,11.63c-0.056,-0.162 -0.092,-0.35 -0.092,-0.583v-2.051c-0.487,0 -1.303,0 -1.508,0c-0.821,0 -1.551,-0.353 -1.905,-1.009c-0.393,-0.729 -0.461,-1.844 -1.435,-2.526c-0.289,-0.227 -0.069,-0.486 0.264,-0.451c0.615,0.174 1.125,0.596 1.605,1.222c0.478,0.627 0.703,0.769 1.596,0.769c0.433,0 1.081,-0.025 1.691,-0.121c0.328,-0.833 0.895,-1.6 1.588,-1.962c-3.996,-0.411 -5.903,-2.399 -5.903,-5.098c0,-1.162 0.495,-2.286 1.336,-3.233c-0.276,-0.94 -0.623,-2.857 0.106,-3.587c1.798,0 2.885,1.166 3.146,1.481c0.896,-0.307 1.88,-0.481 2.914,-0.481c1.036,0 2.024,0.174 2.922,0.483c0.258,-0.313 1.346,-1.483 3.148,-1.483c0.732,0.731 0.381,2.656 0.102,3.594c0.836,0.945 1.328,2.066 1.328,3.226c0,2.697 -1.904,4.684 -5.894,5.097c1.098,0.573 1.899,2.183 1.899,3.396v2.734c0,0.104 -0.023,0.179 -0.035,0.268c4.676,-1.639 8.035,-6.079 8.035,-11.315c0,-6.627 -5.373,-12 -12,-12z"></path></g></g>
            </svg>
            <span class="hidden sm:inline-block">
              Github
            </span>
            <svg class="hidden sm:inline-block" xmlns="http://www.w3.org/2000/svg" width="18px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link">
              <path d="M15 3h6v6"/><path d="M10 14 21 3"/><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
            </svg>
          </a>

          <a href="https://tushartripathi.me/" target="_blank" rel="noopener noreferrer" class="text-gray-100 hover:text-white flex gap-2 items-center">
            <svg class="sm:hidden" xmlns="http://www.w3.org/2000/svg" width="18px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-link">
              <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/>
            </svg>
            <span class="hidden sm:inline-block">
              Tushar
            </span>
            <svg class="hidden sm:inline-block" xmlns="http://www.w3.org/2000/svg" width="18px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link">
              <path d="M15 3h6v6"/><path d="M10 14 21 3"/><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
            </svg>
          </a>
        </div>
      </div>

      <div class="flex gap-4 p-4 pt-2 flex-col lg:flex-row flex-1">
        <div class="h-4/5 lg:h-auto lg:flex-1 flex flex-col gap-2">
          <div class="w-full flex justify-end lg:justify-start items-center">
            <span class="text-gray-900 mr-2 hidden md:inline-block">
              Example:
            </span>
            <select class="px-2 w-60 h-9 bg-gray-200 rounded-md shadow-xs text-sm appearance-none hover:bg-gray-300" id="exampleSelect">
              <option value="hello">Hello World</option>
              <option value="fibonacci">Fibonacci</option>
              <option value="inheritance">Inheritance</option>
            </select>
          </div>
          
          <div class="h-full" id="editor"></div>
        </div>

        <div class="flex-1 flex flex-col gap-2">
          <div class="w-full flex justify-end items-center">
            <button class="cursor-default bg-blue-600 hover:bg-blue-700 text-white font-bold h-9 px-4 text-sm rounded flex items-center gap-1" id="runBtn">
              <svg xmlns="http://www.w3.org/2000/svg" width="18px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-play"><polygon points="6 3 20 12 6 21 6 3"/></svg>  
              Run
            </button>
          </div>

          <div class="flex-1 bg-gray-100 ring-1 ring-gray-200 text-gray-900 text-md rounded p-4 whitespace-pre-wrap font-mono overflow-auto">
            <pre id="output"></pre>
          </div>
        </div>
        
      </div>
    </div>
  </body>
</html>
